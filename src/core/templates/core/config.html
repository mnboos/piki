{% extends "core/base.html" %}

{% block main %}
    <div class="card p-2">
        <h2>Foreground</h2>
        <img id="mask-feed" src="{% url 'mask_feed' %}" alt="mask feed">
    </div>
    <div class=" card p-2">
        <h2>Foreground Detection</h2>
        <form action="{{ request.path }}" method="post">
            {% csrf_token %}
            <div class="card ">
                <div class="card-body">
                    <h5 class="card-title">
                        Debug Settings
                    </h5>

                    <div class="form-check form-switch">
                        <label class="form-check-label">
                            Show mask full size
                            <input type="checkbox" name="fullsize_mask" class="form-check-input"
                                   value="{{ request.session.fullsize_mask }}">
                        </label>
                    </div>
                    <br>

                    <label class="">
                        Mask Transparency
                        <input type="range" name="mask_transparency" class="form-range " min="0" max="90"
                               value="{{ request.session.mask_transparency }}">
                    </label>
                </div>
                <div class="card-body">
                    <h5 class="card-title">
                        Background Model
                    </h5>

                    <label class="form-check-label">
                        Background Stability (Mog2 var threshold)
                        <input type="number" name="mog2_var_threshold"  min="0" max="256"
                               value="{{ request.session.mog2_var_threshold }}">
                        <sub>Name it somehow as the oppositve of sensitivity (the lower the number, the more sensitive it is)</sub>
                    </label>
                    <br>

                    <label class="form-check-label">
                        Mog2 History
                        <input type="number" name="mog2_history" class=" " min="0" max="10000"
                               value="{{ request.session.mog2_history }}">
                        <sub>Change labeling to 'Seconds' and use fps in backend to calculate history length</sub>
                    </label>
                    <br>

                    <label class="form-check-label">
                        Denoise strength
                        <input type="number" name="denoise_strength"  min="0" max="256"
                               value="{{ request.session.denoise_strength }}">
                        <sub>Only odd, positive integers allowed. Use 0 to disable.</sub>
                    </label>
                    <br>
                </div>
            <br>
            </div>

            <hr>
            <input type="submit" value="Apply" class="btn btn-primary float-end ">
        </form>




    </div>

{% endblock %}

{% block footer %}

{% endblock %}